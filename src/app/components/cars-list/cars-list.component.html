<div class="cars-container">
  <!-- Hero Section -->
  <section class="hero-section">
    <div class="hero-wrapper">
      <div class="hero-top">
        <h1 class="hero-title">
          {{ currentView === 'all' ? 'Available cars' : 
             currentView === 'my-listings' ? 'My Listings' : 'My Bookings' }}
        </h1>
        <button *ngIf="currentView !== 'all'" class="close-btn" (click)="closeView()">âœ• Close</button>
      </div>

      <!-- Search & Filter Section -->
      <div class="search-filter-wrapper" *ngIf="currentView !== 'my-bookings'">
        <div class="search-box">
          <svg class="search-icon" width="18" height="18" viewBox="0 0 18 18" fill="none">
            <circle cx="8" cy="8" r="6" stroke="currentColor" stroke-width="2"/>
            <path d="M12 12L16 16" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
          </svg>
          <input
            type="search"
            class="search-input"
            placeholder="Search make/model..."
            [(ngModel)]="searchQuery"
            (input)="onSearch()"
          />
        </div>

        <div class="filter-box">
          <svg class="filter-icon" width="18" height="18" viewBox="0 0 18 18" fill="none">
            <path d="M2 2H16V4H2V2Z" fill="currentColor"/>
            <path d="M3 7H15V9H3V7Z" fill="currentColor"/>
            <path d="M4 12H14V14H4V12Z" fill="currentColor"/>
          </svg>
          <select
            class="filter-select"
            [(ngModel)]="selectedSeats"
            (change)="onFilterSeats()"
          >
            <option value="">All seats</option>
            <option value="4">4 seats</option>
            <option value="5">5 seats</option>
            <option value="7">7 seats</option>
          </select>
        </div>

        <div class="info-box">
          <span class="badge-indore">ğŸ“ Indore</span>
          <span class="results-count" *ngIf="filteredCars.length > 0">
            {{ filteredCars.length }} car<span *ngIf="filteredCars.length !== 1">s</span>
          </span>
        </div>
      </div>
    </div>
  </section>

  <!-- Cars Grid Section -->
  <section class="cars-grid-section" *ngIf="currentView !== 'my-bookings'">
    <div *ngIf="filteredCars.length === 0" class="empty-state">
      <div class="empty-icon">ğŸš—</div>
      <p class="empty-text">
        {{ currentView === 'my-listings' ? 'You haven\'t listed any cars yet. Start by listing your first car!' : 'No cars found matching your criteria.' }}
      </p>
    </div>

    <div class="cars-grid" *ngIf="filteredCars.length > 0">
      <div *ngFor="let car of paginatedCars" class="car-card">
        <div class="car-image-wrapper">
          <div class="car-image" [style.backgroundImage]="'url(' + car.image + ')'"></div>
          <div class="car-badge">{{ car.year }}</div>
        </div>
        <div class="car-content">
          <div class="car-header">
            <h3 class="car-title">{{ car.title }}</h3>
            <span class="car-seats">{{ car.seats }} seats</span>
          </div>
          <div class="car-footer">
            <div class="car-price">
              <span class="amount">â‚¹{{ car.price_per_day }}</span>
              <span class="period">/day</span>
            </div>
            <div class="car-actions">
              <button class="action-btn book-btn" (click)="bookCar(car.id)" *ngIf="currentView === 'all'">Book</button>
              <button class="action-btn edit-btn" (click)="editCar(car.id)" *ngIf="currentView === 'my-listings'">Edit</button>
              <button class="action-btn delete-btn" (click)="deleteCar(car.id)" *ngIf="currentView === 'my-listings'">Delete</button>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Pagination Section -->
    <div class="pagination-container" *ngIf="totalPages > 1 && filteredCars.length > 0">
      <div class="pagination-wrapper">
        <button class="btn-pagination prev" (click)="prevPage()" [disabled]="currentPage === 1">
          â† Previous
        </button>

        <div class="page-numbers">
          <button 
            *ngFor="let page of getPageNumbers()" 
            class="page-num"
            [class.active]="page === currentPage"
            (click)="goToPage(page)"
          >
            {{ page }}
          </button>
        </div>

        <button class="btn-pagination next" (click)="nextPage()" [disabled]="currentPage === totalPages">
          Next â†’
        </button>
      </div>

      <div class="pagination-info">
        <span class="info-text">Page {{ currentPage }} of {{ totalPages }}</span>
        <span class="info-divider">â€¢</span>
        <span class="info-text">{{ paginatedCars.length }} of {{ filteredCars.length }} cars</span>
      </div>
    </div>
  </section>

  <!-- Bookings Section -->
  <section class="bookings-section" *ngIf="currentView === 'my-bookings'">
    <div *ngIf="filteredBookings.length === 0" class="empty-state">
      <div class="empty-icon">ğŸ“…</div>
      <p class="empty-text">You haven't made any bookings yet. Browse cars and make your first booking!</p>
    </div>

    <div class="bookings-list" *ngIf="filteredBookings.length > 0">
      <div *ngFor="let booking of filteredBookings" class="booking-card">
        <div class="booking-left">
          <div class="booking-car-name">{{ booking.carTitle }}</div>
          <div class="booking-dates">
            <span>ğŸ“… {{ booking.start }}</span>
            <span class="date-sep">â†’</span>
            <span>{{ booking.end }}</span>
          </div>
        </div>
        <div class="booking-middle">
          <div class="booking-detail">
            <span class="detail-label">Name:</span>
            <span class="detail-value">{{ booking.name }}</span>
          </div>
          <div class="booking-detail">
            <span class="detail-label">Phone:</span>
            <span class="detail-value">{{ booking.phone }}</span>
          </div>
          <div class="booking-detail">
            <span class="detail-label">Duration:</span>
            <span class="detail-value">{{ booking.days }} day<span *ngIf="booking.days !== 1">s</span></span>
          </div>
        </div>
        <div class="booking-right">
          <div class="booking-amount">â‚¹{{ booking.total }}</div>
          <button class="action-btn delete-btn" (click)="deleteBooking(booking.id)">Delete</button>
        </div>
      </div>
    </div>
  </section>
</div>
